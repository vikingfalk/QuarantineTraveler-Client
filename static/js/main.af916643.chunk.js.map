{"version":3,"sources":["styledElements/FlagCard.js","components/FlagCard.js","styledElements/PictureCard.js","components/PictureCard.js","components/Board.js","helpers.js","styledElements/Button.js","pages/Game.js","assets/traveller.png","assets/worldwide.png","assets/airplane.png","pages/Home.js","App.js","reportWebVitals.js","index.js"],"names":["styled","article","props","selected","css","FlagCard","card","checkMatch","onClick","src","flagURL","PictureCard","process","pictureURL","Board","incrementTries","setFinished","onMatched","useState","flagCards","setFlagCards","pictureCards","setPictureCards","currentPicture","setCurrentPicture","error","setError","loading","setLoading","flag","country","filter","index","useEffect","length","fetch","then","res","json","data","flags","map","flagGroup","sort","Math","random","id","uuidv4","type","name","pictures","className","button","main","disabled","again","start","Game","tries","setTries","finished","matched","setMatched","failed","setFailed","history","useHistory","Button","go","to","bool","setTimeout","Home","world","traveller","plane","App","basename","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af916643.chunk.js","sourcesContent":["import styled, { css } from 'styled-components';\n\nexport default styled.article`\n  display: block;\n  width: 100%;\n  overflow: hidden;\n  box-shadow: 0 0 10px 1px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  cursor: pointer;\n\n  & > img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  @media (min-width: 480px) {\n    &:hover {\n    ${props => !props.selected && css`\n      box-shadow: 0 0 6px 6px rgba(80, 255, 80, 0.6);\n    `}\n  }\n  }\n`;\n","import CardEl from '../styledElements/FlagCard';\n\nconst FlagCard = ({ card, checkMatch }) => (\n  <CardEl onClick={() => checkMatch(card)}>\n    <img src={card.flagURL} />\n  </CardEl>\n);\n\nexport default FlagCard;\n","import styled from 'styled-components';\n\nexport default styled.article`\n  display: inline-block;\n  width: 100%;\n  overflow: hidden;\n  box-shadow: 0 0 10px 1px rgba(0, 0, 0, 0.2);\n  position: relative;\n  height: calc(100vw * 0.7);\n\n  & > img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .cheat-text {\n    position: absolute;\n    color: pink;\n    background-color: black;\n    font-size: 2rem;\n    right: 0;\n    bottom: 0;\n  }\n\n  @media (min-width: 480px) {\n    & {\n      border-radius: 5px;\n      height: calc(100vw * 0.35);\n    }\n  }\n`;\n","import CardEl from '../styledElements/PictureCard';\n\nconst PictureCard = ({ card }) => (\n  <CardEl>\n    {process.env.NODE_ENV === 'development' && <p className=\"cheat-text\">{card.country}</p>}\n    <img src={card.pictureURL} />\n  </CardEl>\n);\n\nexport default PictureCard;\n","import { useState, useEffect } from 'react';\nimport { mapFlagCards, mapPictureCards, shuffleArray } from '../helpers';\nimport FlagCard from './FlagCard';\nimport PictureCard from './PictureCard';\n\nconst Board = ({ incrementTries, setFinished, onMatched }) => {\n  const [flagCards, setFlagCards] = useState(null);\n  const [pictureCards, setPictureCards] = useState(null);\n  const [currentPicture, setCurrentPicture] = useState(null);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const serverURL = process.env.NODE_ENV === 'production' ? 'https://quarantine-traveler.herokuapp.com' : 'http://localhost:8080';\n\n  const checkMatch = flag => {\n    if (flag.country === currentPicture.country) {\n      setPictureCards(pictureCards.filter((card, index) => index !== 0));\n      onMatched(true);\n    } else {\n      onMatched(false);\n    }\n    incrementTries();\n  };\n\n  useEffect(() => {\n    if (!pictureCards) {\n      return;\n    }\n\n    if (pictureCards.length === 0) {\n      setFinished(true);\n      return;\n    }\n\n    setCurrentPicture(pictureCards[0]);\n  }, [pictureCards]);\n\n  useEffect(() => {\n    fetch(serverURL)\n      .then(res => res.json())\n      .then(data => {\n        if (data.error) {\n          setError('Error loading game');\n          return;\n        }\n        const flags = data.flags.map(flagGroup => mapFlagCards([...shuffleArray(flagGroup)]));\n        const pictures = mapPictureCards(data.pictures);\n        setFlagCards(flags);\n        setPictureCards(pictures);\n        setLoading(false);\n      });\n  }, []);\n\n  if (error) {\n    return <h2>{error}</h2>;\n  }\n\n  if (loading) {\n    return <h2>게임 로딩 중...</h2>;\n  }\n\n  if (pictureCards.length === 0) {\n    return null;\n  }\n\n  return (\n    <section className=\"board\">\n      <section className=\"board__column board__column--picture\">\n        <PictureCard card={currentPicture} />\n      </section>\n      <section className=\"board__column board__column--flags\">\n        {flagCards && flagCards[flagCards.length - pictureCards.length].map(card => (\n          <FlagCard\n            key={card.id}\n            card={card}\n            checkMatch={checkMatch}\n          />\n        ))}\n      </section>\n    </section>\n  );\n};\n\nexport default Board;\n","import { v4 as uuidv4 } from 'uuid';\n\nexport const mapPictureCards = countriesData => countriesData.map(country => ({\n  id: uuidv4(),\n  type: 'picture',\n  country: country.name,\n  pictureURL: country.pictureURL,\n}));\n\nexport const mapFlagCards = countriesData => countriesData.map(country => ({\n  id: uuidv4(),\n  type: 'flag',\n  country: country.name,\n  flagURL: `./assets/flags/${country.name}.png`,\n}));\n\nexport const shuffleArray = array => array.sort(() => 0.5 - Math.random());\n","import styled, { css } from 'styled-components';\n\nexport default styled.button`\n  border: none;\n  padding: 0.8rem 1.5rem;\n  border-radius: 5px;\n  font-size: 1.6rem;\n  transition: all 0.2s;\n  cursor: pointer;\n  background-color: rgb(220, 220, 220);\n\n  &:hover {\n    background-color: rgb(230, 230, 230);\n  }\n\n  ${props => props.main && css`\n  background-color: rgb(82, 235, 123);\n    padding: 0.8rem 2rem;\n  `}\n\n  ${props => props.main && !props.disabled && css`\n    &:hover {\n      background-color: rgb(102, 255, 153);\n    }\n  `}\n\n  ${props => props.disabled && css`\n    background-color: rgb(180, 180, 180);\n    color: rgb(100, 100, 100);\n    transition: none;\n    cursor: default;\n\n    &:hover {\n      background-color: rgb(180, 180, 180);\n    }\n  `}\n\n  ${props => props.again && css`\n    background-color: rgb(82, 235, 123);\n\n    &:hover {\n      background-color: rgb(102, 255, 153);\n    }\n  `}\n\n  ${props => props.start && css`\n    padding: 1rem 3rem;\n    font-size: 1.8rem;\n  `}\n`;\n","import { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Board from '../components/Board';\nimport ButtonEl from '../styledElements/Button';\nimport './Game.css';\n\nconst Game = () => {\n  const [tries, setTries] = useState(0);\n  const [finished, setFinished] = useState(false);\n  const [matched, setMatched] = useState(false);\n  const [failed, setFailed] = useState(false);\n  const history = useHistory();\n\n  const incrementTries = () => {\n    setTries(tries + 1);\n  };\n\n  const onMatched = bool => {\n    if (bool) {\n      setMatched(true);\n      setTimeout(() => setMatched(false), 1000);\n      return;\n    }\n    setFailed(true);\n    setTimeout(() => setFailed(false), 1000);\n  };\n\n  if (finished) {\n    return (\n      <div className=\"container container--column-center\">\n        <h1 className=\"finished-text\">잘 하셨습니다! {tries} 차례 시도하고 게임 성공하셨습니다!</h1>\n        <section className=\"buttons-wrapper\">\n          <ButtonEl onClick={() => history.go(0)} again>게임 또 하기</ButtonEl>\n          <Link to=\"/\">\n            <ButtonEl>홈 페이지</ButtonEl>\n          </Link>\n        </section>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container container--column-center\">\n      <Link to=\"/\">\n        <span className=\"btn-home\">\n          <span className=\"material-icons btn-home__icon\">exit_to_app</span>\n          <span className=\"btn-home__text\">돌아가기</span>\n        </span>\n      </Link>\n      <h1 className=\"counter\">{tries} 차례 시도</h1>\n      {matched && <p className=\"matched\">잘 하셨어요!</p>}\n      {failed && <p className=\"failed\">다시 한 번 해 보세요!</p>}\n      <Board incrementTries={incrementTries} setFinished={setFinished} onMatched={onMatched} />\n    </div>\n  );\n};\n\nexport default Game;\n","export default __webpack_public_path__ + \"static/media/traveller.335e8bd8.png\";","export default __webpack_public_path__ + \"static/media/worldwide.835418a6.png\";","export default __webpack_public_path__ + \"static/media/airplane.08eb947d.png\";","import { Link } from 'react-router-dom';\nimport ButtonEl from '../styledElements/Button';\nimport traveller from '../assets/traveller.png';\nimport world from '../assets/worldwide.png';\nimport plane from '../assets/airplane.png';\nimport './Home.css';\n\nconst Home = () => (\n  <div className=\"container container--column-center\">\n    <h1 className=\"main-heading\">Quarantine Traveler</h1>\n    <h2 className=\"sub-heading\">게임을 한 번 해 보십시오!</h2>\n    <Link to=\"/game\">\n      <ButtonEl main start>게임 시작</ButtonEl>\n    </Link>\n    <img className=\"img-world\" src={world} />\n    <img className=\"img-traveller\" src={traveller} />\n    <img className=\"img-plane\" src={plane} />\n  </div>\n);\n\nexport default Home;\n","import { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport Game from './pages/Game';\nimport Home from './pages/Home';\nimport './App.css';\n\nconst App = () => (\n  <Router basename=\"/\">\n    <div className=\"App\">\n      <Switch>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/game\" component={Game} />\n      </Switch>\n    </div>\n  </Router>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}