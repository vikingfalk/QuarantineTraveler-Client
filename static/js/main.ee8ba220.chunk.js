(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var c,r,a,o,i,s,u,b,l,j=t(0),d=t.n(j),O=t(22),h=t.n(O),f=t(8),m=t(2),p=t(7),g=t(13),x=t(15),v=t(40),k=t(5),y=t(6),N=y.b.article(c||(c=Object(k.a)(["\n  display: inline-block;\n  width: 250px;\n  height: 165px;\n  overflow: hidden;\n  box-shadow: 0 0 10px 1px rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  cursor: pointer;\n\n  &:hover {\n    ","\n  }\n\n  & > img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  ",";\n"])),(function(e){return!e.selected&&Object(y.a)(r||(r=Object(k.a)(["\n      /* box-shadow: 0 0 5px 6px rgba(225, 39, 217, 0.6); */\n      box-shadow: 0 0 6px 6px rgba(80, 255, 80, 0.6);\n    "])))}),(function(e){return e.selected&&Object(y.a)(a||(a=Object(k.a)(["\n      /* box-shadow: 0 0 0 6px rgba(255, 50, 230, 1); */\n      box-shadow: 0 0 4px 8px rgba(80, 255, 80, 1);\n    "])))})),w=t(1),S=function(e){var n=e.card,t=e.toggleSelected;return Object(j.useEffect)((function(){console.log("hej")})),Object(w.jsx)(N,{onClick:function(){return t(n)},selected:n.selected,children:Object(w.jsx)("img",{src:"picture"===n.type?n.pictureURL:n.flagURL})})},_=y.b.button(o||(o=Object(k.a)(["\n  border: none;\n  padding: 0.8rem 1.5rem;\n  border-radius: 5px;\n  font-size: 1.6rem;\n  transition: all 0.2s;\n  cursor: pointer;\n  background-color: rgb(220, 220, 220);\n\n  &:hover {\n    background-color: rgb(230, 230, 230);\n  }\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(function(e){return e.main&&Object(y.a)(i||(i=Object(k.a)(["\n  background-color: rgb(82, 235, 123);\n    padding: 0.8rem 2rem;\n  "])))}),(function(e){return e.main&&!e.disabled&&Object(y.a)(s||(s=Object(k.a)(["\n    &:hover {\n      background-color: rgb(102, 255, 153);\n    }\n  "])))}),(function(e){return e.disabled&&Object(y.a)(u||(u=Object(k.a)(["\n    background-color: rgb(180, 180, 180);\n    color: rgb(100, 100, 100);\n    transition: none;\n    cursor: default;\n\n    &:hover {\n      background-color: rgb(180, 180, 180);\n    }\n  "])))}),(function(e){return e.again&&Object(y.a)(b||(b=Object(k.a)(["\n    background-color: rgb(82, 235, 123);\n\n    &:hover {\n      background-color: rgb(102, 255, 153);\n    }\n  "])))}),(function(e){return e.start&&Object(y.a)(l||(l=Object(k.a)(["\n    padding: 1rem 3rem;\n    font-size: 1.8rem;\n  "])))})),E=function(e){var n=e.incrementTries,t=e.setFinished,c=e.onMatched,r=Object(j.useState)(null),a=Object(p.a)(r,2),o=a[0],i=a[1],s=Object(j.useState)(""),u=Object(p.a)(s,2),b=u[0],l=u[1],d=Object(j.useState)(!0),O=Object(p.a)(d,2),h=O[0],f=O[1],m=Object(j.useState)([]),k=Object(p.a)(m,2),y=k[0],N=k[1],E=Object(j.useRef)(y),L=Object(j.useRef)(o),T=function(e){switch(y.length){case 0:N([e]);break;case 1:N(y[0].type===e.type?[e]:[].concat(Object(x.a)(y),[e]));break;case 2:N(y.map((function(n){return n.type===e.type?e:n})));break;default:N([])}},R=function(e){return e.sort((function(){return.5-Math.random()}))},F=function(){E.current[0].country===E.current[1].country?(i(L.current.filter((function(e){return e.country!==E.current[0].country}))),c(!0)):c(!1),N([]),n()},C=function(e){"Space"===e.code&&2===E.current.length&&F()};return Object(j.useEffect)((function(){L.current=o,o&&0===o.length&&t(!0)}),[o]),Object(j.useEffect)((function(){E.current=y,o&&i(o.map((function(e){return y.some((function(n){return n.id===e.id}))?Object(g.a)(Object(g.a)({},e),{},{selected:!0}):Object(g.a)(Object(g.a)({},e),{},{selected:!1})})))}),[y]),Object(j.useEffect)((function(){return fetch("https://quarantine-traveler.herokuapp.com").then((function(e){return e.json()})).then((function(e){if(e.error)l("Error loading cards");else{var n=e.map((function(e){return{id:Object(v.a)(),type:"flag",country:e.name,flagURL:"./assets/flags/".concat(e.name,".png"),selected:!1}})),t=function(e){return e.map((function(e){return{id:Object(v.a)(),type:"picture",country:e.name,pictureURL:e.pictureURL,selected:!1}}))}(e);i([].concat(Object(x.a)(R(n)),Object(x.a)(R(t)))),f(!1)}})),document.addEventListener("keyup",C),function(){document.removeEventListener("keyup",C)}}),[]),b?Object(w.jsx)("h2",{children:b}):h?Object(w.jsx)("h2",{children:"Loading game..."}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("section",{className:"board",children:[Object(w.jsx)("section",{className:"board__column board__column--left",children:o&&o.filter((function(e){return"flag"===e.type})).map((function(e){return Object(w.jsx)(S,{card:e,toggleSelected:T},e.id)}))}),Object(w.jsx)("section",{className:"board__column board__column--right",children:o&&o.filter((function(e){return"picture"===e.type})).map((function(e){return Object(w.jsx)(S,{card:e,toggleSelected:T},e.id)}))})]}),Object(w.jsx)("div",{className:"wrapper-fixed",children:Object(w.jsx)(_,{onClick:2===y.length?F:function(){},disabled:y.length<2,main:!0,children:"Match"})})]})},L=function(){var e=Object(j.useState)(0),n=Object(p.a)(e,2),t=n[0],c=n[1],r=Object(j.useState)(!1),a=Object(p.a)(r,2),o=a[0],i=a[1],s=Object(j.useState)(!1),u=Object(p.a)(s,2),b=u[0],l=u[1],d=Object(j.useState)(!1),O=Object(p.a)(d,2),h=O[0],g=O[1],x=Object(m.f)(),v=Object(j.useRef)(t);return Object(j.useEffect)((function(){v.current=t}),[t]),o?Object(w.jsxs)("div",{className:"container container--column-center",children:[Object(w.jsxs)("h1",{children:["Great job! You finished after ",t," tries."]}),Object(w.jsxs)("section",{className:"buttons-wrapper",children:[Object(w.jsx)(f.b,{to:"/",children:Object(w.jsx)(_,{children:"Home"})}),Object(w.jsx)(_,{onClick:function(){return x.go(0)},again:!0,children:"Play Again"})]})]}):Object(w.jsxs)("div",{className:"container container--column-center",children:[Object(w.jsx)(f.b,{to:"/",children:Object(w.jsxs)("span",{className:"btn-home",children:[Object(w.jsx)("span",{className:"material-icons btn-home__icon",children:"exit_to_app"}),"Home"]})}),Object(w.jsxs)("h1",{className:"counter",children:["Tries: ",t]}),Object(w.jsx)("p",{className:"tips",children:"Tips: Use the spacebar to match"}),b&&Object(w.jsx)("p",{className:"matched",children:"Good job!"}),h&&Object(w.jsx)("p",{className:"failed",children:"Oops!"}),Object(w.jsx)(E,{incrementTries:function(){c(v.current+1)},setFinished:i,onMatched:function(e){if(e)return l(!0),void setTimeout((function(){return l(!1)}),1e3);g(!0),setTimeout((function(){return g(!1)}),1e3)}})]})},T=t.p+"static/media/traveller.335e8bd8.png",R=t.p+"static/media/worldwide.835418a6.png",F=t.p+"static/media/airplane.08eb947d.png",C=function(){return Object(j.useEffect)((function(){console.log("home page loaded")}),[]),Object(w.jsxs)("div",{className:"container container--column-center",children:[Object(w.jsx)("h1",{className:"main-heading",children:"Quarantine Traveler"}),Object(w.jsx)("h2",{className:"sub-heading",children:"Pretend there is no virus and go travel!"}),Object(w.jsx)(f.b,{to:"/game",children:Object(w.jsx)(_,{main:!0,start:!0,children:"Start Game"})}),Object(w.jsx)("img",{className:"img-world",src:R}),Object(w.jsx)("img",{className:"img-traveller",src:T}),Object(w.jsx)("img",{className:"img-plane",src:F})]})},U=(t(37),function(){return Object(j.useEffect)((function(){console.log("app")})),Object(w.jsx)(f.a,{basename:"/quarantine-traveler",children:Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(m.c,{children:[Object(w.jsx)(m.a,{path:"/",exact:!0,component:C}),Object(w.jsx)(m.a,{path:"/game",component:L})]})})})}),M=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};h.a.render(Object(w.jsx)(d.a.StrictMode,{children:Object(w.jsx)(U,{})}),document.getElementById("root")),M()}},[[38,1,2]]]);
//# sourceMappingURL=main.ee8ba220.chunk.js.map